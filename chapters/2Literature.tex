\chapter{Literature Review} \label{chapter:literature}
To apply the most promising solution to the MN backtester and position this study within the broader context of existing research, I begin by reviewing the relevant literature on the limit order book modeling and aggressiveness analysis in Section~\ref{sec:relatedwork}. In Section~\ref{sec:maincontributions}, I discuss the main contributions of this thesis compared to the related work of others. In Section~\ref{sec:researchobjectives}, the main purpose of the thesis is stressed.                                                                                  
\section{Related Work} \label{sec:relatedwork}
% [why the LOB is important to consider][high-frequenct][imbalance]
Today, the limit order book (LOB) is important to consider and model. More than half of highly competitive financial markets use the LOB mechanism to match buy and sell trade \citep{lob2009}. The LOB records rich, detailed, and high-quality historic data \citep{gould_limit_2013}. LOB-related modeling work can help in many ways. It can give better ideas on how to trade in different market conditions \citep{SuperDOT1996}, choosing good order execution strategies \citep{OBIZHAEVA20131} and reducing market impact \citep{Eisler01092012}. \cite{cvitanic_high_nodate} studied the distribution of transaction prices generated in a LOB market populated by orders from high-frequency traders (machines) and low-frequency traders (humans). They confirmed the limit order book is central to understanding how different trader types affect transaction prices. These are the reasons that the LOB data is useful for testing theories about common patterns found across a wide range of markets, thus important in this thesis research contents. 

% [limit order book modeling] what they do, what they find
There are many works devoted to modeling limit order book data. These models are typically based on either classical stochastic processes, machine learning methods, or hybrid approaches. In this section, I summarize key contributions in the literature, highlight their targets and modeling methods, and point out their limitations. How our approach improves upon them is discussed in Section~\ref{sec:maincontributions}.

A popular direction in the previous work is to model the LOB using stochastic processes, such as Poisson processes, Hawkes processes, or Markov models. For example, \cite{cont_stochastic_2010} introduced a continuous-time stochastic model for the dynamics of a limit order book. This approach allows for analytical explanation but ignores clustering and feedback effects. 
\cite{bleher_orders_2021} proposed a Markov process LOB model. While it is theoretically rich, their model assumes exponential timing and lacks nonlinear pattern recognition.
\cite{lu_order-book_2018} analyzed and enhanced the original Markovian model based on non-Markovian features of empirical observations. The model adds a dependency on past events, thus significantly improving the realism of LOB simulations and the profitability of market-making strategies. 
Market and limit order flows play an important role in LOB modeling. \cite{bechler2017orderflowslimitorder} studied limit order book behavior over short timescales using volume-based data. They found that trade imbalance and price change are nonlinearly related, but this becomes linear when combining market and limit order flows. 

Regarding the clustering property, \cite{vinkovskaya_point_nodate} found orders and cancellations cluster in time, are interdependent, and are influenced by the bid-ask spread by a self-exciting point process model with multiple regimes. But the model didn't consider more complex market features and dynamics.
A more mathematical modeling is done by \cite{cont_mathematical_2023}. They developed a general and flexible framework to model the dynamics of limit order books by combining two key components: order flow, modeled as a spatial point process (random arrival of buy/sell orders across price levels), and market clearing, represented as a 'mass transport' operator that matches orders. Their model brings together and extends earlier LOB models, making it easier to study how trades affect prices using math or simulations.

In high-frequent markets, discrete models are helpful and effective. \cite{bayraktar_liquidation_2012} studied how to optimally sell a large position in a limit order book where order intensity depends on the price. They proved why the discrete model is valid for LOB modeling by analyzing a continuous limit and showed that the discrete model's solution converges to the limit using viscosity solution techniques. 

Hawkes processes have become popular and useful. Hawkes processes are models that describe events happening over time, where one event makes other events more or less likely to happen soon after and capture self-exciting behavior and clustering. This is useful in trading, because one trade often leads to more trades. \cite{fonseca_clustering_2015} introduced clustering behavior captured by Hawkes process. However, these models usually assume static exponential kernels and cannot capture more complex dynamics. A Hawkes process-based LOB model is used by \cite{abergel_long-time_2015}. They highlighted the long-time behavior of the limit order book and the corresponding dynamics of the suitably rescaled price. \cite{zheng_ergodicity_2013} used multivariate Hawkes processes to model mutual excitations between market and limit orders. Their model captures self- and cross-exciting behavior, but the order flow kernels are still simple. 

\cite{lalor_algorithmic_2025} modeled LOB prices using semi-Markov and Hawkes jump-diffusion processes to capture jumps and clustering but lacks data-driven components and real feature inputs. \cite{magris_simulation_nodate} aimed to show that inverse transform sampling (ITS) can work very well today if we use modern tools like the Lambert-W function. While the idea is not new, the author shows that with current computing power, this old method can compete with or even beat newer ones. The result showed the large potential of the Hawkes process to combine with cutting-edge techniques.

% [extensions of Hawkes process]

There are many extensions of the traditional Hawkes process model. The Buffer-Hawkes model \citep{kaj_buffer_2017} extends the Hawkes process by including a buffer state that connects order flow with market executions. It models mutual excitation and execution feedback but is still limited to Markovian settings. In order to get feedback and interaction between orders, \cite{kumar2021deephawkesprocesshighfrequency} used a Deep Hawkes process, which contains a stacked LSTM state, to model how new orders depend on past ones and the current state of the order book. The results showed their simulation matches real market patterns, underlining the powerful function of neural networks combined in the Hawkes process. Similarly, another LSTM-based Neural Hawkes Process \citep{lalor_event-based_2025} aimed to generate realistic multi-event LOB environments for testing market-making strategies. 

\cite{shi_neural_2023} built a neural stochastic agent-based model (NS-ABM) to reproduce many known market patterns and respond realistically to trading activity. The neural kernel was also generated from LSTM. The authors showed that their model works well and planed to explore more complex market behaviors in the future. Another extension of the Hawkes process is non-parametric marked Hawkes models \citep{joseph_non-parametric_2024}. They used neural networks to learn the kernel functions. This improves flexibility but requires a lot of data and computation. These works are powerful but usually require a lot of computation. However, the idea of using neural networks in Hawkes processes motivates the modeling approach of this thesis, especially when considering practical applications in high-frequency FX trading.

% [machine learning tools]
%\cite{coletta2021towards}
Machine learning methods have been widely used in recent years. \cite{briola_deep_2024} uses convolutional and LSTM layers to predict mid-price movements. While it gives good accuracy, it lacks interpretability. Other works use GANs \citep{brophy_quick_2019} or Neural SDEs \citep{issa_non-adversarial_2023} to generate realistic time series, but training is often unstable and not efficient for high-frequency tasks. \cite{huang_simulating_2014} proposed the queue-reactive model. This approach is simple and gives good estimates of execution probability and market impact, but it ignores deeper temporal patterns. To evaluate the quality of simulations, \cite{vyetrenko_get_2019} introduced realism metrics that test both macro and micro features. This work shows that many GAN-based simulators lack realism and produce agents that fail when tested on real markets. This is the reason that I do not apply GANs in our study. Even though it has a strong generation ability, reality is an important factor for our model.

% other fields
Besides financial fields, GANs are applied to model medical time series data. \cite{esteban_real-valued_2017} built two models, RGAN and RCGAN, to generate realistic time-series data using GANs with recurrent neural networks. They evaluated these models by training on synthetic data and testing on real data, and found that performance was close to models trained on real data. This is important in fields like medicine, where data privacy is a problem. The focus on privacy and data access is also interesting because FX trading models are trained on sensitive market data.

% [why the study of aggressive trades is interesting]
Other empirical works analyze order placement and why the study of aggressive trades is interesting. A key reason for studying the aggressive trades in LOB is that it connects individual trading activity with overall price dynamics. \cite{chiu_order_2017} studied how different types of traders behave when submitting orders in the Taiwan stock index futures market. The study showed clear differences in aggressiveness among trader types. Individual traders act more aggressively, especially under wider spreads or strong momentum, while institutional and proprietary traders are more patient and cost-sensitive. All traders reduce aggressiveness during high volatility, with institutional traders responding more strongly. These findings highlighted how market conditions shape order submission behavior. This result guides the importance and meaning of the study of aggressive trades in order book flow. \cite{HUNG2019231} also found that trading aggressiveness and execution quality affect short-term price movements. 

\cite{xu2019multilevelorderflowimbalancelimit} concluded how order-flow activity deep into the LOB can influence the price-formation process by trade imbalance and order-flow Imbalance modeling. \cite{OrderAggressiveness2010} found that more aggressive orders are usually smaller. When there are many orders on the same side, traders place smaller and less aggressive orders. But when the other side is deeper, they place larger and more aggressive ones. The finding also shows the volume ratio is a critical factor when modeling aggressiveness, which will be considered in the next modeling. For more possible factors that influence the aggressiveness, \cite{RANALDO200453} developed an econometric model to measure order aggressiveness and test recent theories. The results showed that traders become more aggressive when the same side of the book is thick, the opposite side is thin, the spread is wide, or volatility is high. This result gives important clues to market features that influence aggressive trade prediction.


\section{Main Contributions} \label{sec:maincontributions}
While previous studies have made significant progress in understanding LOB modeling and aggressive trades, important gaps remain, particularly in terms of a realistic and dynamic model applicable for high-frequent FX markets. This thesis addresses these gaps and contributes to the literature in the following ways. In the literature review section, popular LOB models in the literature often rely on fixed stochastic structures or black-box machine learning, typically ignoring important market features, temporal dependency, clustering, and interpretability. For instance, models based only on single Hawkes processes cannot capture nonlinear relations in market conditions. On the other hand, deep learning models like GANs or LSTMs are hard to interpret and expensive to train.

In this thesis, I propose a novel approach that integrates a GRU-based (Gated Recurrent Unit) Neural Hawkes Process with XGBoost (Extreme Gradient Boosting) to solve extreme class imbalance. It captures not only market features (e.g., spread, volume, imbalance), but also temporal dependencies and clustering behavior. Moreover, GRU is lighter than LSTM and more efficient for high-frequency data. Compared to GANs, it is easier to train and more stable. Compared to traditional Hawkes models, it is more flexible and dynamic. Compared to pure machine learning, it is not a black box and the intensity function has a clear structure. It is fair to expect our method to provide a better framework for predicting the pattern of the aggressive trade, which is especially important for MN to improve backtesting accuracy.

\section{Research Objectives}\label{sec:researchobjectives}
% Define the limitations of existing backtesting frameworks, particularly their inability to capture realistic market responses.
Based on these contributions, we formalize the research objectives of this thesis. These objectives guide the development of our methodology and the design of our empirical analysis.
% Our mission starts from a company needs...
As discussed in the last section, the MN backtester is only based on historical LOB and simple filling possibility rules to match order. A big problem is that the filling possibilities cannot capture the sophisticated what-if scenarios accurately, like when market conditions differ, how trader's behaviors will change. This is especially intractable when backtesting the execution of passive child orders, because they require aggressive market participants to trade through the spread and remove them from the order book. It is hard to know when aggressive trades take place only from the current LOB. 

Hence, the objective of this thesis starts from improving the MN backtester from the aspect of predicting if other market participants would aggressively take out our passive orders from the order book. The main idea involves developing models to analyze the distributional pattern of aggressive trades in real LOB dynamics. This will mimic the real market reaction to changes in the execution strategies. A naive idea would be to insert these aggressive trades randomly throughout the updates of the limit order book. However, a more realistic and dynamic approach needs to consider the self-exciting, clustering properties and distribution of aggressive trades, including how frequently they occur, under what conditions, and how they interact with existing order flow.

The challenge then becomes determining the distributional pattern of aggressive trades in the LOB. By addressing this, I can create a more realistic and dynamic backtesting mechanism. For further research, it would be interesting to see if the new backtesting mechanism can be applied in general backtesting frameworks for multiple assets and instruments like the FX swaps and equities market.

